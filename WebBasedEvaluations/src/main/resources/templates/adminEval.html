<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
	crossorigin="anonymous">-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">


<title>Groups</title>

<style>
	body {
		padding-top: 20px;
	}
</style>
</head>
<body>

	<!-- EVALUATOR NAVBAR -->
<div th:replace="./navbarFragm.html :: navbar"></div>
		
		 <div class="container  mt-5" th:each="rev : ${reviewee}">
		 	<div>
		 		<h2 th:text="${rev.group.year} + ' Field Employee Performance Evaluation'"><b></b></h2>
		 	</div>
		 	<div>
				<h5 th:text="'Review Period From Jan 1, ' + ${rev.group.year} + ' Through Sept 30, ' + ${rev.group.year}"><b></b></h5>
			</div>
			
			<span style= "padding-right:5px">
				<a th:href="@{/adminGroups}">	
					<button class="btn btn-outline-danger" type="button">Back</button>
				</a>
			</span>
			
			<br>
		 	<div style="overflow-x: auto;">
		 		<div style="display:flex;">
		 			<div style="flex: 50%;">
		 				<div class="row">
		 					<div class="col">
		 						<div class="row align-items-start">
		 							<div class="col" style="margin-top: 10px;">
					 					<p><b>Employee Name</b></p>
					 					<p th:text=${rev.name}><b></b></p>
					 					<p><b>Title</b></p>
					 					<p th:text=${rev.user.jobTitle}><b></b></p>
					 					<p><b>Department</b></p>
					 					<p th:text=${rev.user.departmentName}><b></b></p>
					 					<p><b>Supervisor</b></p>
					 					<p th:text=${rev.user.supervisor}><b></b></p>
					 				</div>
					 				<div class="col" style="margin-top: 10px;">
					 					<p><b>Employee ID</b></p>
					 					<p th:text=${rev.id}><b></b></p>
					 					<p><b>Role</b></p>
					 					<p th:text=${rev.user.roleName}><b></b></p>
					 					<p><b>Hire Date</b></p>
					 					<p th:text=${rev.user.dateOfHire}><b></b></p>
					 					
					 				</div>
		 						</div>		 		
		 					</div>
		 				</div>
		 			</div>
		 			
		 			<div style="flex: 50%;">
		 				<table class="table" align="center">
		 					<tr>
		 						<th th:text="${rev.group.groupName}" style="font-size: 20px;"></th>
		 					</tr>
		 					<tr>
		 						<th>Legend</th>
		 					</tr>
		 					<tr>
		 						<td>
		 							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16" style="color: orange;">
  										<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"/>
									</svg>
									: <i>Not Requested</i>
		 						</td>
		 					<tr>
		 					<tr>
		 						<td>
		 							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16" style="color: red;">
 										<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"/>
									</svg>
									: <i>Not Completed</i>
		 						</td>
		 					</tr>
		 					<tr>
		 						<td>
		 							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash-circle-fill" viewBox="0 0 16 16" style="color: yellow;">
  										<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M4.5 7.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1z"/>
									</svg>
									: <i>In Progress</i>
		 						</td>
		 					</tr>
		 					<tr>
		 						<td>
		 							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16" style="color: green;">
  										<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
									</svg>
									: <i>Completed</i>
		 						</td>
		 					</tr>
		 				</table>
		 				
		 				<table class="table" align="center">
		 					<thead>
		 						<tr>
		 							<th>Step</th>
		 							<th>Reviewer</th>
		 							<th>Status</th>
		 							<th>Last Login</th>
		 						</tr>
		 					</thead>
		 					<tbody>
		 						<tr>
		 							<td>Self Evaluation</td>
		 							<td>Self</td>
		 							
		 							<td th:if="${rev.selfEvaluation != null and rev.selfEvaluation.completed == true}">
		 								<i class="bi bi-check-circle-fill" style="color:green; margin-left:15px;"></i>
		 							</td>
		 							
		 							<td th:if="${rev.selfEvaluation != null and rev.selfEvaluation.completed == false}">
		 								<i class="bi bi-dash-circle-fill" style="color:yellow; margin-left:15px;"></i>
		 							</td>
		 							
		 							<td th:if="${rev.selfEvaluation == null}">
		 								<i class="bi bi-x-circle-fill" style="color:orange; margin-left:15px;"></i>
		 							</td>
		 							
		 						
		 							
								</tr>
								<div th:each="role : ${role}">
									<tr th:each="evaluator : ${rev.group.evaluator}" th:if="${role == evaluator.level}">
										<td th:text=${role.name}></td>
										<td th:text="${evaluator.user.name}"></td>
										<div th:each="logs : ${rev.evalutationLog}" th:if="${role ==  logs.Evaluator.level}">
											<td th:if="${logs.completed}">
												<i class="bi bi-check-circle-fill" style="color:green; margin-left:15px;"></i>
											</td>
											<td th:if="${!logs.completed and logs.dateEdited != null}"><i>
												<i class="bi bi-dash-circle-fill" style="color:yellow; margin-left:15px;"></i>
											</td>
											<td th:if="${!logs.completed and logs.dateEdited == null}"><i>
												<i class="bi bi-x-circle-fill" style="color:red; margin-left:15px;"></i>
											</td>
										</div>
										<div><td th:text="${#dates.format(evaluator.user.lastLogin, 'yyyy-MM-dd')}">N/A</td></div>
										
											
		 							</tr>
		 						</div>
		 					</tbody>
		 				</table>
		 				
		 			</div>
		 		</div> 	
		 	</div>
			
		 </div>
			

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
		crossorigin="anonymous"></script>


</body>
</html>